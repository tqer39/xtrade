# xtrade 環境変数設定
# このファイルを .env.local にコピーして、実際の値を設定してください

# =============================================================================
# 環境設定
# =============================================================================
# local / dev / prod
NODE_ENV=development

# =============================================================================
# アプリケーション URL
# =============================================================================
# local:  http://localhost:3000
# dev:    https://xtrade-dev.tqer39.dev
# prod:   https://xtrade.tqer39.dev
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# BetterAuth 認証設定
# =============================================================================
# BetterAuth のベース URL（NEXT_PUBLIC_APP_URL と同じ値）
BETTER_AUTH_URL=http://localhost:3000

# BetterAuth のシークレットキー（環境ごとに異なる値を使用）
# 生成方法: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-key-here

# =============================================================================
# X (Twitter) OAuth 設定
# =============================================================================
# X Developer Portal で取得した Client ID と Client Secret
# https://developer.x.com/en/portal/dashboard
TWITTER_CLIENT_ID=your-twitter-client-id
TWITTER_CLIENT_SECRET=your-twitter-client-secret

# X OAuth コールバック URL（参考）
# local:  http://localhost:3000/api/auth/callback/twitter
# dev:    https://xtrade-dev.tqer39.dev/api/auth/callback/twitter
# prod:   https://xtrade.tqer39.dev/api/auth/callback/twitter

# =============================================================================
# ホワイトリスト機能（アクセス制限）
# =============================================================================
# 管理者の X ユーザー名（@なし）
# この値が設定されている場合、ホワイトリスト機能が有効になります
# 管理者は常にログイン可能で、初回ログイン時に admin ロールが付与されます
ADMIN_TWITTER_USERNAME=

# =============================================================================
# データベース設定（Neon / PostgreSQL）
# =============================================================================
# local:  postgres://xtrade:xtrade@localhost:5432/xtrade
# dev:    postgres://username:password@ep-xxx-xxx.us-east-2.aws.neon.tech/xtrade-dev
# prod:   postgres://username:password@ep-xxx-xxx.us-east-2.aws.neon.tech/xtrade-prod
DATABASE_URL=postgres://xtrade:xtrade@localhost:5432/xtrade

# Neon のダイレクト接続 URL（マイグレーション用）
# Drizzle のマイグレーションで使用する場合は、pooling=false のパラメータが必要
# 例: postgres://username:password@ep-xxx-xxx.us-east-2.aws.neon.tech/xtrade?sslmode=require
DATABASE_URL_UNPOOLED=

# =============================================================================
# Cloudflare R2 ストレージ設定
# =============================================================================
# R2 API キー（CloudFlare Dashboard で生成）
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=

# R2 エンドポイント
# https://<account_id>.r2.cloudflarestorage.com
R2_ENDPOINT=

# R2 バケット名
# local/dev: xtrade-card-images-dev
# prod: xtrade-card-images-prod
R2_BUCKET_NAME=xtrade-card-images-dev

# R2 パブリック URL（カスタムドメイン推奨）
# dev: https://card-images.xtrade-dev.tqer39.dev
# prod: https://card-images.xtrade.tqer39.dev
R2_PUBLIC_URL=https://card-images.xtrade-dev.tqer39.dev

# =============================================================================
# メール送信設定（Resend）
# =============================================================================
# Resend API キー（https://resend.com/api-keys で取得）
# Send Access 権限のみで OK
# dev: xtrade-dev で取得した API キー
# prod: 本番用 API キー（別途取得）
RESEND_API_KEY=re_xxxxxxxxxxxx

# 送信元メールアドレス（ドメイン認証が必要）
# dev: no-reply@xtrade-dev.tqer39.dev
# prod: no-reply@xtrade.tqer39.dev
RESEND_FROM_EMAIL=no-reply@xtrade-dev.tqer39.dev

# =============================================================================
# reCAPTCHA v3 設定（ボット対策）
# =============================================================================
# https://www.google.com/recaptcha/admin で取得
NEXT_PUBLIC_RECAPTCHA_SITE_KEY=
RECAPTCHA_SECRET_KEY=

# =============================================================================
# Stripe 決済設定
# =============================================================================
# Stripe Dashboard で取得した API キー
# https://dashboard.stripe.com/apikeys
# テスト環境では sk_test_xxx / pk_test_xxx を使用
# 本番環境では sk_live_xxx / pk_live_xxx を使用
STRIPE_SECRET_KEY=sk_test_your-secret-key-here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-publishable-key-here

# Stripe Webhook シークレット
# Stripe Dashboard > Webhooks > エンドポイント > 署名シークレット
# ローカル開発時は Stripe CLI で取得: stripe listen --forward-to localhost:3000/api/stripe/webhook
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# Stripe Price ID（Terraform で作成後に設定）
# Terraform output から取得、または Stripe Dashboard > Products で確認
STRIPE_BASIC_PRICE_ID=price_basic_xxx
STRIPE_PREMIUM_PRICE_ID=price_premium_xxx

# =============================================================================
# Google AdSense 設定
# =============================================================================
# AdSense パブリッシャー ID（ca-pub-XXXXXXXXXXXXXXXX）
# AdSense 審査承認後に設定してください
NEXT_PUBLIC_ADSENSE_CLIENT=

# AdSense 広告スロット ID（フッター用）
NEXT_PUBLIC_ADSENSE_SLOT_FOOTER=

# =============================================================================
# その他の設定
# =============================================================================
# ログレベル（debug / info / warn / error）
LOG_LEVEL=info

# セッションの有効期限（秒）
SESSION_MAX_AGE=604800

# =============================================================================
# 開発環境専用
# =============================================================================
# Docker Compose で起動する Postgres の設定
POSTGRES_USER=xtrade
POSTGRES_PASSWORD=xtrade
POSTGRES_DB=xtrade
POSTGRES_PORT=5432
