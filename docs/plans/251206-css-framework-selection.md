# 追加CSSフレームワーク選定計画

- **作成日**: 2025-12-06
- **ステータス**: 起案
- **担当 Agent**: ArchAgent

## 概要

Tailwind CSSを既に採用している現状を前提に、サービス特性に適合した追加CSSフレームワーク（UIコンポーネントライブラリ/デザインシステム）を選定する。再利用性・開発速度・ブランド一貫性を高め、既存Tailwindユーティリティを活かせる選択肢を合理的に決定する。

## 目的とスコープ

- **目的**: UI実装を加速し、アクセシビリティと一貫性を担保する追加CSSフレームワークを選ぶ。
- **スコープ**:
  - Tailwindと併用できるコンポーネント系ライブラリの比較と提案
  - デザイン運用（テーマ/トークン）、アクセシビリティ、導入工数、メンテ体制の評価
  - PoC（コンポーネント実装サンプル）までの計画
- **スコープ外**:
  - Figma等のデザインツール移行計画
  - 完全なテーマ刷新

## 評価観点

1. **Tailwind親和性**: クラス構成・プリミティブがTailwindと競合しないか。既存PostCSS/Autoprefixer設定で問題がないか。
2. **アクセシビリティ**: WAI-ARIA対応、キーボード操作、スクリーンリーダー配慮がデフォルトで担保されるか。
3. **テーマ/デザイントークン運用**: CSS変数やconfigでブランドカラー・ダークモードを簡潔に制御できるか。
4. **プリミティブの柔軟性**: 低レベルコンポーネントで拡張しやすいか（Radix系など）。
5. **エコシステムとメンテ性**: コミュニティ規模、更新頻度、Breaking changeポリシー、ライセンス。
6. **導入コスト**: 既存Next.js/Tailwind構成への追加手順、学習コスト、生成コードの読みやすさ。

## 候補リストと短評

| 候補 | 理由/強み | 懸念/補足 |
| --- | --- | --- |
| shadcn/ui (Radix + Tailwind) | Tailwind前提でプリミティブが柔軟。過去採用実績あり、追加コンポーネントも豊富。 | 設定済みであれば運用継続が最も筋が良い。依存更新管理が必要。 |
| DaisyUI | Tailwindプラグイン型で導入容易。テーマ切替が容易。 | デザイン自由度は高いが、ブランド固有デザインを作り込む場合に調整工数が増える。 |
| MUI (Joy UI) | コンポーネント網羅性が高く、A11y対応も充実。 | Tailwindとの併用時にスタイル競合・バンドルサイズ増が課題。非Tailwind流儀のスタイリングを許容するか要判断。 |
| Chakra UI | 直感的なスタイルpropsで実装速度を稼げる。 | Tailwindユーティリティと思想が重複しやすい。Emotion依存によるランタイムオーバーヘッド。 |
| Mantine | フルスタックなコンポーネントセット。 | Tailwindを活かしづらい。テーマ体系の二重管理コスト。 |

## 推奨方向性

- **第一候補**: 既に導入済みであれば **shadcn/ui の継続・拡充**。Tailwind親和性・アクセシビリティ・拡張性で最もリスクが低い。
- **比較検証対象**: Tailwindプラグイン型で軽量な **DaisyUI** をサブ候補とし、ブランド調整しやすいかを短期PoCで確認。
- **除外方針**: Tailwind流儀と二重管理になる MUI/Chakra/Mantine は現段階では優先度を下げる。

## 実施ステップ

1. **要件確認 (0.5日)**
   - プロダクトのUI/UX要件とブランド指針を整理（既存shadcn/ui利用状況も棚卸）。
   - 必要コンポーネントリスト（フォーム系、ナビゲーション、モーダル等）を洗い出し優先度付け。
2. **調査・サンプル実装 (1.0日)**
   - shadcn/uiで不足しているコンポーネントの追加候補を列挙。
   - DaisyUIをTailwindに追加導入し、カード/ボタン/フォームをサンプル実装してデザイン調整コストを計測。
3. **評価レポート作成 (0.5日)**
   - 評価観点ごとに shadcn/ui vs DaisyUI を表形式で比較（導入工数、アクセシビリティ、テーマ運用）。
   - バンドルサイズ・Tree Shaking影響を計測（bun/next buildで差分確認）。
4. **意思決定・PoC計画共有 (0.5日)**
   - 推奨案（基本shadcn/ui、必要に応じてDaisyUI併用）の是非を決定。
   - 採用時の導入手順書と運用ガイド（スタイル命名方針、テーマ設定手順）をまとめる。

## 成果物

- 評価レポート（shadcn/ui vs DaisyUI 比較表、A11y・テーマ・導入コスト・メンテ性）
- PoCブランチ: `/app` 配下にサンプルUI（ボタン、フォーム、カード、モーダル）を実装
- 導入ガイド: Tailwind設定追加手順、テーマ変更手順、コンポーネント追加フロー

## リスクと対応

- **Tailwindユーティリティとの衝突**: DaisyUI導入時にクラス衝突がないか事前に`prefix`設定を検討。
- **アクセシビリティ品質**: 追加コンポーネントはStorybook/Playwrightでフォーカス・ARIA確認を行う。
- **メンテナンス負荷**: 依存更新の監視とchangelog確認をタスクに組み込む。shadcn/ui生成コードの差分管理をjustタスク化。

## タイムライン（目安）

- 1.5日: 要件整理 + サンプル実装
- 0.5日: 計測・評価表作成
- 0.5日: 方針決定とガイド作成
- **合計: 約2.5〜3.0日**
