---
name: claude-md-sync
description: |
  CLAUDE.md にプロジェクトの現在の状態を反映する。
  簡潔さを保ち、詳細ドキュメントへの参照で重複を避ける。
---

# CLAUDE.md Sync Skill

プロジェクトの変更を `CLAUDE.md` に反映する際のガイドライン。

## 基本原則

1. **簡潔に保つ** - 詳細は `docs/` への参照で代替
2. **重複を避ける** - 他ドキュメントと同じ内容を書かない
3. **参照を活用** -「詳細は `docs/xxx.ja.md` を参照」形式

## CLAUDE.md の構成

```text
# Claude Code プロジェクト指示
├── 基本方針           # 変更頻度: 低
├── Git 操作ルール     # 変更頻度: 低
├── プロジェクト構造   # 変更頻度: 中（参照のみ）
├── 主要コマンド       # 変更頻度: 中
├── コーディング規約   # 変更頻度: 低
├── Agent 構成         # 変更頻度: 中
├── 環境構成           # 変更頻度: 低
├── インフラ構成       # 変更頻度: 低（参照のみ）
├── CI/CD              # 変更頻度: 低（参照のみ）
├── セキュリティ       # 変更頻度: 低
└── 参考ドキュメント   # 変更頻度: 中
```

## 更新パターン

### Agent 追加時

```markdown
## Agent 構成

- **NewAgent** 🔧: 一行で役割を説明

各 Agent の詳細は `.claude/agents/` 配下の設定ファイルを参照。
```

### コマンド追加時

```markdown
## 主要コマンド

- `just new-command`: 一行で説明

詳細は `docs/local-dev.ja.md` を参照。
```

### 新規ドキュメント追加時

```markdown
## 参考ドキュメント

- 新規トピック: `docs/new-topic.ja.md`
```

## 禁止事項

- 詳細な手順の記載（docs に書く）
- コード例の大量記載（docs に書く）
- 環境変数の値の記載（セキュリティ）
- 他ドキュメントの内容のコピー

## チェックリスト

CLAUDE.md 更新時：

- [ ] 追加した内容は一行で説明できているか
- [ ] 詳細は docs への参照になっているか
- [ ] 既存の docs と重複していないか
- [ ] `just lint` が通るか

## 参照の書き方

```markdown
# OK: 参照で詳細を省略
詳細は `docs/xxx.ja.md` を参照。

# NG: CLAUDE.md に詳細を書く
### 手順
1. まず xxx をインストール
2. 次に yyy を設定
3. ...
```
