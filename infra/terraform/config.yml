# xtrade インフラ共通設定
# このファイルは各 Terraform モジュールから参照されます

# プロジェクト情報
project:
  name: xtrade
  organization: tqer39
  domain: tqer39.dev
  repository: xtrade

# 環境設定
environments:
  dev:
    name: dev
    full_name: development
    subdomain: xtrade-dev
    neon_region: aws-us-east-2
  prod:
    name: prod
    full_name: production
    subdomain: xtrade
    neon_region: aws-us-east-2

aws:
  account_id: '072693953877'
  env_name: portfolio
  region: ap-northeast-1
  IaC: Terraform

github:
  organization: 'tqer39'
  repository_owner: 'tqer39'
  repository_name: 'xtrade'

# Neon データベース設定
neon:
  region: aws-us-east-2
  dev:
    project_name: xtrade-dev
    database_name: xtrade
    database_owner: xtrade
    compute_min_cu: 0.25
    compute_max_cu: 1.0
    suspend_timeout_seconds: 300
    history_retention_seconds: 21600 # 6時間（無料プランの上限）
  prod:
    project_name: xtrade-prod
    database_name: xtrade
    database_owner: xtrade
    compute_min_cu: 0.5
    compute_max_cu: 4.0
    suspend_timeout_seconds: 600
    history_retention_seconds: 21600 # 6時間（有料プランでは増やせます）

# Vercel 設定
vercel:
  dev:
    project_name: xtrade-dev
    framework: nextjs
    build_command: npm run build
    output_directory: .next
    install_command: npm install
  prod:
    project_name: xtrade
    framework: nextjs
    build_command: npm run build
    output_directory: .next
    install_command: npm install

# CloudFlare 設定
cloudflare:
  # Zone ID は環境変数 TF_VAR_cloudflare_zone_id で設定
  # Account ID は環境変数 TF_VAR_cloudflare_account_id で設定
  # API Token は環境変数 CLOUDFLARE_API_TOKEN で設定
  domain: tqer39.dev
  r2:
    dev:
      bucket_name: xtrade-card-images-dev
      location: APAC
      custom_domain: card-images.xtrade-dev.tqer39.dev
    prod:
      bucket_name: xtrade-card-images-prod
      location: APAC
      custom_domain: card-images.xtrade.tqer39.dev

# Stripe 設定
# API キーは環境変数 TF_VAR_stripe_api_key で設定
stripe:
  dev:
    basic:
      product_name: 'xtrade Basic (Dev)'
      product_description: 'xtrade Basic プラン - マッチング制限緩和（開発環境）'
      price_amount: 200 # 日本円
    premium:
      product_name: 'xtrade Premium (Dev)'
      product_description: 'xtrade Premium プラン - 全機能解放（開発環境）'
      price_amount: 400 # 日本円
  prod:
    basic:
      product_name: 'xtrade Basic'
      product_description: 'xtrade Basic プラン - マッチング制限緩和'
      price_amount: 200 # 日本円
    premium:
      product_name: 'xtrade Premium'
      product_description: 'xtrade Premium プラン - 全機能解放'
      price_amount: 400 # 日本円

# タグ設定
tags:
  common:
    Project: xtrade
    ManagedBy: terraform
    Repository: https://github.com/tqer39/xtrade
  dev:
    Environment: development
  prod:
    Environment: production
